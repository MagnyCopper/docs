# 设计模式

设计模式是软件设计中常见问题的典型解决方案。它们就像能根据需求进行调整的预制蓝图，可用于解决代码中反复出现的设计问题。

## 设计模式的历史

模式的概念是由克里斯托佛·亚历山大在其著作《建筑模式语言》中首次提出的。本书介绍了城市设计的 “语言”，而此类 “语言” 的基本单元就是模式。 模式中可能会包含对窗户应该在多高、一座建筑应该有多少层以及一片街区应该有多大面积的植被等信息的描述。<br>
埃里希·伽玛、约翰·弗利赛德斯、拉尔夫·约翰逊和理查德·赫尔姆这四位作者接受了模式的概念。 1994 年，他们出版了《设计模式： 可复用面向对象软件的基础》一书，将设计模式的概念应用到程序开发领域中。该书提供了23个模式来解决面向对象程序设计中的各种问题，很快便成为了畅销书。由于书名太长， 人们将其简称为 “四人组（Gang of Four，GoF）的书”，并且很快进一步简化为 “GoF 的书”。

## 设计模式的分类

1. 创建型模式：提供创建对象的机制， 增加已有代码的灵活性和可复用性。
    - 工厂模式：在父类中提供一个创建对象的接口以允许子类决定实例化对象的类型；
    - 抽象工厂模式：让你能创建一系列相关的对象，而无需指定其具体类；
    - 生成器模式：使你能够分步骤创建复杂对象，该模式允许你使用相同的创建代码生成不同类型和形式的对象；
    - 原型模式：让你能够复制已有对象，而又无需使代码依赖它们所属的类；
    - 单例模式：让你能够保证一个类只有一个实例，并提供一个访问该实例的全局节点；

2. 结构型模式：介绍如何将对象和类组装成较大的结构， 并同时保持结构的灵活和高效。
    - 适配器模式：让接口不兼容的对象能够相互合作；
    - 桥接模式：可将一个大类或一系列紧密相关的类拆分为抽象和实现两个独立的层次结构，从而能在开发时分别使用；
    - 组合模式：你可以使用它将对象组合成树状结构，并且能像使用独立对象一样使用它们；
    - 装饰模式：允许你通过将对象放入包含行为的特殊封装对象中来为原对象绑定新的行为；
    - 外观模式：能为程序库，框架或其他复杂类提供一个简单的接口；
    - 享元模式：摒弃了在每个对象中保存所有数据的方式，通过共享多个对象所共有的相同状态，让你能在有限的内存容量中载入更多对象；
    - 代理模式：让你能够提供对象的替代品或其占位符，代理控制着对于原对象的访问，并允许在将请求提交给对象前后进行一些处理；
    
3. 行为模式：负责对象间的高效沟通和职责委派。
    - 责任链模式：允许你将请求沿着处理者链进行发送，收到请求后，每个处理者均可对请求进行处理，或将其传递给链上的下个处理者；
    - 命令模式：它可将请求转换为一个包含与请求相关的所有信息的独立对象，该转换让你能根据不同的请求将方法参数化，延迟请求执行或将其放入队列中，且能实现可撤销操作；
    - 迭代器模式：让你能在不暴露集合底层表现形式；
    - 中介者模式：能让你减少对象之间混乱无序的依赖关系，该模式会限制对象之间的直接交互，迫使它们通过一个中介者对象进行合作；
    - 备忘录模式：允许在不暴露对象实现细节的情况下保存和恢复对象之前的状态；
    - 观察者模式：允许你定义一种订阅机制，可在对象事件发生时通知多个，观察，该对象的其他对象
    - 状态模式：让你能在一个对象的内部状态变化时改变其行为，使其看上去就像改变了自身所属的类一样；
    - 策略模式：能让你定义一系列算法，并将每种算法分别放入独立的类中，以使算法的对象能够相互替换；
    - 模板方法模式：在超类中定义一个算法的框架，允许子类在不修改结构的情况下重写算法的特定步骤；
    - 访问者模式：将算法与其所作用的对象隔离开来；